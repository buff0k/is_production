{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-04-24 11:22:19.981629",
 "css": "@page {\r\n    size: A4;\r\n    margin: 15mm;\r\n}\r\n\r\nbody {\r\n    font-family: Arial, sans-serif;\r\n    font-size: 12px;\r\n    line-height: 1.4;\r\n    margin: 0;\r\n    padding: 0;\r\n    color: #333;\r\n}\r\n\r\n.header {\r\n    page-break-inside: avoid;\r\n    margin-bottom: 20px;\r\n    padding-bottom: 10px;\r\n    border-radius: 0px;\r\n}\r\n\r\n/* Use table layout for PDF compatibility */\r\n.main-info {\r\n    width: 100%;\r\n    margin-bottom: 20px;\r\n    background-color: #f8f9fa;\r\n    padding: 15px;\r\n    border-radius: 5px;\r\n    display: table;\r\n}\r\n\r\n.info-column {\r\n    display: table-cell;\r\n    width: 48%;\r\n    vertical-align: top;\r\n    padding-right: 2%;\r\n}\r\n\r\n.info-column:last-child {\r\n    padding-right: 0;\r\n}\r\n\r\n.field-group {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.field-label {\r\n    font-weight: bold;\r\n    color: black;\r\n    margin-bottom: 5px;\r\n    display: block;\r\n}\r\n\r\n.field-value {\r\n    color: #333;\r\n    padding: 5px;\r\n    background-color: #fff;\r\n    border-radius: 3px;\r\n    display: block;\r\n}\r\n\r\n.production-summary {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.section-title {\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: black;\r\n    margin-bottom: 15px;\r\n    padding-bottom: 5px;\r\n    border-bottom: 2px solid #b40000;\r\n}\r\n\r\n/* Replace CSS Grid with table layout */\r\n.summary-grid {\r\n    width: 100%;\r\n    display: table;\r\n    table-layout: fixed;\r\n    margin-bottom: 20px;\r\n    border-spacing: 10px 15px;\r\n}\r\n\r\n.summary-row {\r\n    display: table-row;\r\n}\r\n\r\n.summary-section {\r\n    display: table-cell;\r\n    width: 48%;\r\n    background-color: #f8f9fa;\r\n    padding: 15px;\r\n    border-radius: 5px;\r\n    border-left: 4px solid #7a1c1c;\r\n    vertical-align: top;\r\n    margin-right: 2%;\r\n}\r\n\r\n/* Add spacing between cells */\r\n.summary-section:first-child {\r\n    padding-right: 10px;\r\n}\r\n\r\n.summary-section:last-child {\r\n    padding-left: 10px;\r\n}\r\n\r\n.summary-section h4 {\r\n    margin-top: 10px;\r\n    margin-bottom: 10px;\r\n    color: #b40000;\r\n    font-size: 14px;\r\n}\r\n\r\n.metric-row {\r\n    width: 100%;\r\n    display: table;\r\n    margin-bottom: 8px;\r\n    padding: 5px 0;\r\n    border-bottom: 1px dotted #ddd;\r\n}\r\n\r\n.metric-row:last-child {\r\n    border-bottom: none;\r\n}\r\n\r\n.metric-label {\r\n    display: table-cell;\r\n    font-weight: 500;\r\n    color: #666;\r\n    width: 70%;\r\n}\r\n\r\n.metric-value {\r\n    display: table-cell;\r\n    font-weight: bold;\r\n    color: black;\r\n    text-align: right;\r\n    width: 30%;\r\n}\r\n\r\n.tables-section {\r\n    margin-top: 30px;\r\n}\r\n\r\n.table-container {\r\n    margin-bottom: 25px;\r\n    page-break-inside: avoid;\r\n}\r\n\r\n.table-title {\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: black;\r\n    margin-bottom: 10px;\r\n    padding: 8px;\r\n    background-color: #f8f9fa;\r\n    border-radius: 3px;\r\n}\r\n\r\ntable {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-bottom: 15px;\r\n    font-size: 11px;\r\n}\r\n\r\nth, td {\r\n    padding: 8px;\r\n    text-align: left;\r\n}\r\n\r\n#border {\r\n    border: 1px solid #ddd;\r\n}\r\n\r\nth {\r\n    background-color: #f8f9fa;\r\n    font-weight: bold;\r\n    color: black;\r\n}\r\n\r\ntr:nth-child(even) {\r\n    background-color: #f9f9f9;\r\n}\r\n\r\n.number {\r\n    text-align: right;\r\n}\r\n\r\n.mtd-summary {\r\n    background-color: #f8f9fa;\r\n    padding: 15px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n/* Replace grid with table layout */\r\n.mtd-grid {\r\n    width: 100%;\r\n    display: table;\r\n    table-layout: fixed;\r\n}\r\n\r\n.mtd-row {\r\n    display: table-row;\r\n}\r\n\r\n.mtd-section {\r\n    display: table-cell;\r\n    width: 48%;\r\n    padding: 10px;\r\n    vertical-align: top;\r\n}\r\n\r\n.mtd-section:first-child {\r\n    padding-right: 15px;\r\n}\r\n\r\n.mtd-section:last-child {\r\n    padding-left: 15px;\r\n}\r\n\r\n/* Print controls */\r\n@media print {\r\n    .header {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n    }\r\n    \r\n    .no-print {\r\n        display: none;\r\n    }\r\n    \r\n    .main-title,\r\n    .print-heading,\r\n    .kpi-table,\r\n    .section-title,\r\n    .summary-section,\r\n    .table-container,\r\n    .grand-total,\r\n    .mtd-summary {\r\n        page-break-inside: avoid;\r\n        break-inside: avoid;\r\n    }\r\n    \r\n    .print-heading,\r\n    .section-title {\r\n        page-break-before: avoid;\r\n    }\r\n    \r\n    .page-break {\r\n        page-break-before: always;\r\n    }\r\n    \r\n    /* Ensure table layout works in print */\r\n    .main-info,\r\n    .summary-grid,\r\n    .mtd-grid {\r\n        display: table !important;\r\n    }\r\n    \r\n    .info-column,\r\n    .summary-section,\r\n    .mtd-section {\r\n        display: table-cell !important;\r\n    }\r\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Hourly Production",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"Hourly Report\\n{{ doc.hour_slot }}\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"ts_percent\", \"print_hide\": 0, \"label\": \"Truck and Shoval %\"}, {\"fieldtype\": \"Column Break\"}]",
 "html": "{{ letter_head}}\r\n\r\n<title>Hourly Production Report</title>\r\n\r\n<!-- Header - Only on first page -->\r\n\r\n<!-- Main Document Information -->\r\n<div class=\"main-info\">\r\n    <div class=\"info-column\">\r\n        <div class=\"field-group\">\r\n            <span class=\"field-label\">Site:</span>\r\n            <span class=\"field-value\">{{ doc.location or '-' }}</span>\r\n        </div>\r\n        <div class=\"field-group\">\r\n            <span class=\"field-label\">Production Date:</span>\r\n            <span class=\"field-value\">{{ doc.prod_date or '-' }}</span>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"info-column\">\r\n        <div class=\"field-group\">\r\n            <span class=\"field-label\">Hour Slot:</span>\r\n            <span class=\"field-value\">{{ doc.hour_slot or '-' }}</span>\r\n        </div>\r\n        <div class=\"field-group\">\r\n            <span class=\"field-label\">Shift:</span>\r\n            <span class=\"field-value\">{{ doc.shift or '-' }}</span>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Production Summary -->\r\n<!-- Production Summary -->\r\n<div class=\"production-summary\">\r\n    <h2 class=\"section-title\">Hour Production Summary</h2>\r\n    \r\n    <div class=\"summary-grid\">\r\n        <div class=\"summary-row\">\r\n            <div class=\"summary-section\">\r\n                <h4>Truck and Shovel Production</h4>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Total Softs BCM:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.total_softs_bcm or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Total Hards BCM:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.total_hards_bcm or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Total Coal BCM:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.total_coal_bcm or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Total Coal Tons:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.coal_tons_total or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\"  id=\"Total\">\r\n                    <span class=\"metric-label\">Total TS BCM:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.total_ts_bcm or 0) }}</span>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"summary-section\">\r\n                <h4>Dozer Production</h4>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Number of Prod Dozers:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.num_prod_dozers or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Average BCM per Dozer:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.ave_bcm_dozer or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\" id=\"Total\">\r\n                    <span class=\"metric-label\">Total Dozing BCM:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.total_dozing_bcm or 0) }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"summary-row\">\r\n            <div class=\"summary-section\">\r\n                <h4>Equipment Performance</h4>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Number of Prod Trucks:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.num_prod_trucks or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Number of Prod Excavators:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.excavators_prod_num or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Average BCM per Truck:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.ave_bcm_prod_truck or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Truck & Shovel %:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:.2f}\".format((doc.ts_percent or 0) ) }}%</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Dozing %:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:.2f}\".format((doc.dozing_percent or 0)) }}%</span>\r\n                </div>\r\n                <div class=\"metric-row\" id=\"Total\">\r\n                    <span class=\"metric-label\">HOUR TOTAL BCM:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.hour_total_bcm or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\" id=\"Total\">\r\n                    <span class=\"metric-label\">Day TOTAL BCM:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.day_total_bcm or 0) }}</span>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"summary-section\">\r\n                <h4>Month to Date Summary</h4>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Monthly Target BCM:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.monthly_target_bcm or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Target BCM per Day:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.target_bcm_day or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">Target BCM per Hour:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.target_bcm_hour or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">MtD Actual BCM:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.month_actual_bcm or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">MtD TS Tallies:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.month_act_ts_bcm_tallies or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">MtD Dozing Tallies:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.month_act_dozing_bcm_tallies or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">MtD Survey Variance:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.monthly_act_tally_survey_variance or 0) }}</span>\r\n                </div>\r\n                <div class=\"metric-row\">\r\n                    <span class=\"metric-label\">MtD Forecasted BCM:</span>\r\n                    <span class=\"metric-value number\">{{ \"{:,.0f}\".format(doc.month_forecated_bcm or 0) }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Tables Section -->\r\n<div class=\"tables-section\">\r\n    <!-- Truck Loads Table -->\r\n    <div class=\"table-container\">\r\n        <h2 class=\"section-title\">Detailed Production Data</h2>\r\n        <div class=\"table-title\">Truck Loads</div>\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th id=\"border\">Loads</th>\r\n                    <th id=\"border\">Excavator Plant No.</th>\r\n                    <th id=\"border\">Truck Plant No.</th>\r\n                    <th id=\"border\">Geo / Mat Layer</th>\r\n                    <th id=\"border\">BCMs</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {% for row in doc.truck_loads %}\r\n                <tr>\r\n                    <td id=\"border\" class=\"number\">{{ row.loads or 0 }}</td>\r\n                    <td id=\"border\">{{ row.asset_name_shoval or '-' }}</td>\r\n                    <td id=\"border\">{{ row.asset_name_truck or '-' }}</td>\r\n                    <td id=\"border\">{{ row.geo_mat_layer_truck or '-' }}</td>\r\n                    <td id=\"border\" class=\"number\">{{ \"{:.2f}\".format(row.bcms or 0) }}</td>\r\n                </tr>\r\n                {% endfor %}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    \r\n    <!-- Dozer Production Table -->\r\n    <div class=\"table-container\">\r\n        <div class=\"table-title\">Dozer Production</div>\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th id=\"border\">Dozer</th>\r\n                    <th id=\"border\">Model</th>\r\n                    <th id=\"border\">Service</th>\r\n                    <th id=\"border\">Primary Working Area</th>\r\n                    <th id=\"border\">Geo / Mat Layer</th>\r\n                    <th id=\"border\">BCM in Hour</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {% for row in doc.dozer_production %}\r\n                <tr>\r\n                    <td id=\"border\">{{ row.asset_name or '-' }}</td>\r\n                    <td id=\"border\">{{ row.item_name or '-' }}</td>\r\n                    <td id=\"border\">{{ row.dozer_service or '-' }}</td>\r\n                    <td id=\"border\">{{ row.mining_areas_dozer_child or '-' }}</td>\r\n                    <td id=\"border\">{{ row.dozer_geo_mat_layer or '-' }}</td>\r\n                    <td id=\"border\" class=\"number\">{{ \"{:.2f}\".format(row.bcm_hour or 0) }}</td>\r\n                </tr>\r\n                {% endfor %}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    \r\n    <!-- TS Area BCM Total Table -->\r\n    <div class=\"table-container\">\r\n        <div class=\"table-title\">Area BCM Totals</div>\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th id=\"border\">Area</th>\r\n                    <th id=\"border\">Total TS BCM</th>\r\n                    <th id=\"border\">Total Dozer BCM</th>\r\n                    <th id=\"border\">Total BCM/Area</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {% for row in doc.ts_area_bcm_total %}\r\n                <tr>\r\n                    <td id=\"border\">{{ row.ts_area_options or '-' }}</td>\r\n                    <td id=\"border\" class=\"number\">{{ \"{:.2f}\".format(row.ts_area_bcm or 0) }}</td>\r\n                    <td id=\"border\" class=\"number\">{{ \"{:.2f}\".format(row.dozer_area_bcm or 0) }}</td>\r\n                    <td id=\"border\" class=\"number\">{{ \"{:.2f}\".format(row.bcm_total_area or 0) }}</td>\r\n                </tr>\r\n                {% endfor %}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    \r\n    <!-- Geo Material Total BCM Table -->\r\n    {% set geo_data = doc.get('geo_mat_total_bcm') or [] %}\r\n    {% if geo_data %}\r\n    <div class=\"table-container\">\r\n        <div class=\"table-title\">Geo / Material Layer BCM Totals</div>\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th id=\"border\">Geo / Mat Layer</th>\r\n                    <th id=\"border\">TS BCM Total</th>\r\n                    <th id=\"border\">Dozer BCM Total</th>\r\n                    <th id=\"border\">Total BCM</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {% for row in geo_data %}\r\n                <tr>\r\n                    <td id=\"border\">{{ row.geo_layer_options or '-' }}</td>\r\n                    <td id=\"border\" class=\"number\">{{ \"{:.2f}\".format(row.geo_ts_bcm_total or 0) }}</td>\r\n                    <td id=\"border\" class=\"number\">{{ \"{:.2f}\".format(row.geo_dozer_bcm_total or 0) }}</td>\r\n                    <td id=\"border\" class=\"number\">{{ \"{:.2f}\".format(row.geo_bcm_total or 0) }}</td>\r\n                </tr>\r\n                {% endfor %}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    {% else %}\r\n    <div>No geo material data available</div>\r\n    {% endif %}\r\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 10.0,
 "margin_left": 10.0,
 "margin_right": 10.0,
 "margin_top": 10.0,
 "modified": "2025-08-27 16:29:29.600034",
 "modified_by": "Administrator",
 "module": "Production",
 "name": "Hourly Production",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}