{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2026-01-14 21:38:56.928422",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Hourly Drilling Report",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{# =========================================================\r\n   ERPNext / Frappe Print Format (Jinja)\r\n   Hourly Drilling Report (A4 Landscape) \u2014 FULL DROP-IN HTML\r\n\r\n   What this fixes vs the previous version:\r\n   \u2705 NO hard-coded child SQL table name (auto-resolves from meta)\r\n   \u2705 Calculates:\r\n      - Selected-hour meters + hours\r\n      - Document meters + hours\r\n      - Shift accumulated meters + hours (fast SQL)\r\n   \u2705 Still works even if the child doctype/table name is different\r\n\r\n   Assumptions (fieldnames):\r\n   - Parent table fieldname: hourly_entries   (Table)\r\n   - Child fields: meters, hourly_slot\r\n   - Parent fields: site, date, shift, diesel_used, water_used\r\n   - Optional link: drilling_meter_planning (to Drilling Meter Planning)\r\n   ========================================================= #}\r\n\r\n<style>\r\n  @media print { @page { size: A4 landscape; margin: 6mm; } }\r\n  * { box-sizing: border-box; }\r\n  body { font-family: Arial, Helvetica, sans-serif; font-size: 10px; color: #222; }\r\n\r\n  .title { text-align: center; font-size: 16px; font-weight: 700; margin: 0 0 4px 0; color: #1F4E79; }\r\n  .meta { text-align: center; margin: 0 0 6px 0; white-space: nowrap; font-size: 11px; }\r\n\r\n  .pill{\r\n    display:inline-block; padding: 1px 6px; border: 1px solid #888; border-radius: 4px;\r\n    font-weight: bold; min-width: 18px; text-align:center; background:#fff2cc;\r\n  }\r\n\r\n  table.layout { width: 100%; border-collapse: collapse; }\r\n  td.left { width: 74%; vertical-align: top; padding-right: 8px; }\r\n  td.right { width: 26%; vertical-align: top; }\r\n\r\n  .block { border: 1px solid #1f4e79; margin-bottom: 6px; }\r\n  .block-title { background: #1f4e79; color: #fff; padding: 4px 6px; font-weight: 700; font-size: 11px; }\r\n\r\n  table.tbl { width: 100%; border-collapse: collapse; }\r\n  table.tbl th, table.tbl td { border: 1px solid #1f4e79; padding: 4px; text-align: center; vertical-align: middle; }\r\n  table.tbl th { background: #d9e2f3; font-weight: 700; color: #000; }\r\n\r\n  .right-align { text-align: right; }\r\n  .left-align { text-align: left; }\r\n\r\n  .stats-label { background: #d9e2f3; font-weight: 700; text-align: left; padding-left: 6px; }\r\n  .stats-value { background: #fff2cc; font-weight: 700; text-align: right; width: 90px; padding-right: 6px; }\r\n\r\n  .stats-section { background: #ffffff; font-weight: 800; text-align: center; }\r\n  .stats-spacer td{\r\n    background: #ffffff;\r\n    height: 10px;\r\n    padding: 0;\r\n    border-left: 1px solid #1f4e79;\r\n    border-right: 1px solid #1f4e79;\r\n  }\r\n\r\n  table.tbl td { line-height: 1.15; }\r\n  .block, table { page-break-inside: avoid; }\r\n\r\n  .muted { color:#666; font-style: italic; }\r\n  .warn { border: 1px solid #cc0000; padding: 6px; margin: 6px 0; font-weight: 700; background: #ffe6e6; }\r\n  code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; font-size: 9px; }\r\n</style>\r\n\r\n{# ---------- helpers ---------- #}\r\n{% macro fmt0(n) -%}\r\n  {{ \"{:,.0f}\".format((n or 0)|float) }}\r\n{%- endmacro %}\r\n\r\n{# robust-ish picker for drill/area/material variations #}\r\n{% macro pick(r, a, b, c, d, e, f) -%}\r\n  {% set v = r.get(a) %}\r\n  {% if v is not none and (v|string|trim) != \"\" %}{{ v }}{% else %}\r\n    {% set v = r.get(b) %}\r\n    {% if v is not none and (v|string|trim) != \"\" %}{{ v }}{% else %}\r\n      {% set v = r.get(c) %}\r\n      {% if v is not none and (v|string|trim) != \"\" %}{{ v }}{% else %}\r\n        {% set v = r.get(d) %}\r\n        {% if v is not none and (v|string|trim) != \"\" %}{{ v }}{% else %}\r\n          {% set v = r.get(e) %}\r\n          {% if v is not none and (v|string|trim) != \"\" %}{{ v }}{% else %}\r\n            {% set v = r.get(f) %}\r\n            {% if v is not none and (v|string|trim) != \"\" %}{{ v }}{% else %}{{ \"\" }}{% endif %}\r\n          {% endif %}\r\n        {% endif %}\r\n      {% endif %}\r\n    {% endif %}\r\n  {% endif %}\r\n{%- endmacro %}\r\n\r\n{# Convert \"HH:MM-HH:MM\" to hours (handles wrap midnight). If invalid, returns 1.0 #}\r\n{% macro slot_hours(slot) -%}\r\n  {% set s = (slot or \"\")|string|trim %}\r\n  {% if s == \"\" %}\r\n    0\r\n  {% else %}\r\n    {% set parts = s.split(\"-\") %}\r\n    {% if parts|length < 2 %}\r\n      1\r\n    {% else %}\r\n      {% set start_str = (parts[0] or \"\")|trim %}\r\n      {% set end_str = (parts[1] or \"\")|trim %}\r\n\r\n      {# build datetimes using frappe.utils (available in print context) #}\r\n      {% set start_dt = frappe.utils.get_datetime(\"2000-01-01 \" ~ start_str) %}\r\n      {% set end_dt = frappe.utils.get_datetime(\"2000-01-01 \" ~ end_str) %}\r\n\r\n      {% if end_dt <= start_dt %}\r\n        {% set end_dt = frappe.utils.add_days(end_dt, 1) %}\r\n      {% endif %}\r\n\r\n      {% set h = frappe.utils.time_diff_in_hours(end_dt, start_dt) %}\r\n      {% if h <= 0 or h > 24 %}\r\n        1\r\n      {% else %}\r\n        {{ h }}\r\n      {% endif %}\r\n    {% endif %}\r\n  {% endif %}\r\n{%- endmacro %}\r\n\r\n{# =========================================================\r\n   0) Resolve parent/child meta (NO hard-coded child table)\r\n   ========================================================= #}\r\n{% set parent_dt = doc.doctype %}\r\n{% set parent_table = \"tab\" ~ parent_dt %}\r\n\r\n{% set parent_meta = frappe.get_meta(parent_dt) %}\r\n{% set table_fieldname = \"hourly_entries\" %}\r\n{% set child_dt = None %}\r\n{% if parent_meta and parent_meta.has_field(table_fieldname) %}\r\n  {% set child_dt = parent_meta.get_field(table_fieldname).options %}\r\n{% endif %}\r\n{% set child_table = (\"tab\" ~ child_dt) if child_dt else None %}\r\n\r\n{# =========================================================\r\n   1) Base data and \"selected hour\"\r\n   ========================================================= #}\r\n{% set all_entries = doc.get(table_fieldname) or [] %}\r\n\r\n{# Collect distinct hour slots present on this document #}\r\n{% set hour_slots = [] %}\r\n{% for r in all_entries %}\r\n  {% set hs = (r.get(\"hourly_slot\") or \"\")|string|trim %}\r\n  {% if hs != \"\" and (hs not in hour_slots) %}\r\n    {% set _ = hour_slots.append(hs) %}\r\n  {% endif %}\r\n{% endfor %}\r\n\r\n{# Selected hour:\r\n   - If exactly 1 slot => use it\r\n   - Else use LAST row's slot (typical intent)\r\n#}\r\n{% set selected_hour = namespace(v=\"\") %}\r\n{% if hour_slots|length == 1 %}\r\n  {% set selected_hour.v = hour_slots[0] %}\r\n{% elif all_entries and (all_entries|length > 0) %}\r\n  {% set selected_hour.v = ((all_entries[-1].get(\"hourly_slot\") or \"\")|string|trim) %}\r\n{% endif %}\r\n\r\n{# Filter entries to selected hour #}\r\n{% set entries = [] %}\r\n{% if selected_hour.v != \"\" %}\r\n  {% for r in all_entries %}\r\n    {% set hs = (r.get(\"hourly_slot\") or \"\")|string|trim %}\r\n    {% if hs == selected_hour.v %}\r\n      {% set _ = entries.append(r) %}\r\n    {% endif %}\r\n  {% endfor %}\r\n{% endif %}\r\n\r\n{# =========================================================\r\n   2) Compute document totals (ALL rows)\r\n   ========================================================= #}\r\n{% set doc_total_m = namespace(v=0.0) %}\r\n{% set doc_slot_keys = [] %}\r\n\r\n{% for r in all_entries %}\r\n  {% set doc_total_m.v = doc_total_m.v + ((r.get(\"meters\") or 0)|float) %}\r\n  {% set hs = (r.get(\"hourly_slot\") or \"\")|string|trim %}\r\n  {% if hs != \"\" and (hs not in doc_slot_keys) %}\r\n    {% set _ = doc_slot_keys.append(hs) %}\r\n  {% endif %}\r\n{% endfor %}\r\n\r\n{% set doc_total_h = namespace(v=0.0) %}\r\n{% for hs in doc_slot_keys %}\r\n  {% set doc_total_h.v = doc_total_h.v + (slot_hours(hs)|float) %}\r\n{% endfor %}\r\n\r\n{# =========================================================\r\n   3) Build Drill Production rows (selected hour only)\r\n   ========================================================= #}\r\n{% set drills_list = [] %}\r\n{% for r in entries %}\r\n  {% set d = (pick(r, \"drill\", \"drills\", \"drill_no\", \"rig\", \"machine\", \"equipment\")|string|trim) %}\r\n  {% if d != \"\" and (d not in drills_list) %}\r\n    {% set _ = drills_list.append(d) %}\r\n  {% endif %}\r\n{% endfor %}\r\n\r\n{% set drill_rows = [] %}\r\n{% set hour_total_m = namespace(v=0.0) %}\r\n\r\n{% if drills_list and (drills_list|length > 0) %}\r\n  {% for d in drills_list %}\r\n    {% set agg = namespace(total=0.0, area=\"\", material=\"\") %}\r\n\r\n    {% for r in entries %}\r\n      {% set rd = (pick(r, \"drill\", \"drills\", \"drill_no\", \"rig\", \"machine\", \"equipment\")|string|trim) %}\r\n      {% if rd == d %}\r\n        {% set m = (r.get(\"meters\") or 0)|float %}\r\n        {% set agg.total = agg.total + m %}\r\n\r\n        {% if (agg.area|trim == \"\") %}\r\n          {% set a = (pick(r, \"area\", \"drilling_area\", \"mining_area\", \"pit\", \"section\", \"location\")|string|trim) %}\r\n          {% if a != \"\" %}{% set agg.area = a %}{% endif %}\r\n        {% endif %}\r\n\r\n        {% if (agg.material|trim == \"\") %}\r\n          {% set mt = (pick(r, \"material\", \"material_type\", \"ore_type\", \"rock_type\", \"ground_type\", \"mat\")|string|trim) %}\r\n          {% if mt != \"\" %}{% set agg.material = mt %}{% endif %}\r\n        {% endif %}\r\n      {% endif %}\r\n    {% endfor %}\r\n\r\n    {% set _ = drill_rows.append({\r\n      \"drill\": d,\r\n      \"area\": agg.area or \"-\",\r\n      \"material\": agg.material or \"-\",\r\n      \"meters\": agg.total\r\n    }) %}\r\n\r\n    {% set hour_total_m.v = hour_total_m.v + agg.total %}\r\n  {% endfor %}\r\n{% endif %}\r\n\r\n{% set hour_total_h = namespace(v=0.0) %}\r\n{% if selected_hour.v != \"\" %}\r\n  {% set hour_total_h.v = (slot_hours(selected_hour.v)|float) %}\r\n{% endif %}\r\n\r\n{# =========================================================\r\n   4) Shift Accumulated meters + hours (SQL, safe + fast)\r\n   ========================================================= #}\r\n{% set shift_accum_m = namespace(v=0.0) %}\r\n{% set shift_accum_h = namespace(v=0.0) %}\r\n\r\n{% if doc.site and doc.date and doc.shift and child_table %}\r\n  {# meters for shift (sum all meters across all reports) #}\r\n  {% set shift_m = frappe.db.sql(\"\"\"\r\n    SELECT SUM(COALESCE(he.meters, 0))\r\n    FROM `{parent_table}` hdr\r\n    JOIN `{child_table}` he\r\n      ON he.parent = hdr.name\r\n     AND he.parenttype = %s\r\n     AND he.parentfield = %s\r\n    WHERE hdr.site = %s\r\n      AND hdr.date = %s\r\n      AND hdr.shift = %s\r\n      AND hdr.docstatus < 2\r\n  \"\"\".format(parent_table=parent_table, child_table=child_table),\r\n  (parent_dt, table_fieldname, doc.site, doc.date, doc.shift)) %}\r\n\r\n  {% if shift_m and shift_m[0] and shift_m[0][0] is not none %}\r\n    {% set shift_accum_m.v = (shift_m[0][0] or 0)|float %}\r\n  {% endif %}\r\n\r\n  {# hours for shift (distinct hourly_slot per report; avoid duplicates in same report) #}\r\n  {% set shift_slots = frappe.db.sql(\"\"\"\r\n    SELECT DISTINCT hdr.name AS report_name, he.hourly_slot\r\n    FROM `{parent_table}` hdr\r\n    JOIN `{child_table}` he\r\n      ON he.parent = hdr.name\r\n     AND he.parenttype = %s\r\n     AND he.parentfield = %s\r\n    WHERE hdr.site = %s\r\n      AND hdr.date = %s\r\n      AND hdr.shift = %s\r\n      AND hdr.docstatus < 2\r\n      AND COALESCE(he.hourly_slot, '') != ''\r\n  \"\"\".format(parent_table=parent_table, child_table=child_table),\r\n  (parent_dt, table_fieldname, doc.site, doc.date, doc.shift), as_dict=True) %}\r\n\r\n  {% set seen = [] %}\r\n  {% for s in shift_slots %}\r\n    {% set key = (s.report_name ~ \"||\" ~ (s.hourly_slot or \"\")) %}\r\n    {% if key not in seen %}\r\n      {% set _ = seen.append(key) %}\r\n      {% set shift_accum_h.v = shift_accum_h.v + (slot_hours(s.hourly_slot)|float) %}\r\n    {% endif %}\r\n  {% endfor %}\r\n{% endif %}\r\n\r\n{# =========================================================\r\n   5) Monthly Stats (safe-get fields if they exist)\r\n   ========================================================= #}\r\n{% set dp = None %}\r\n{% if doc.drilling_meter_planning %}\r\n  {% set meta = frappe.get_meta(\"Drilling Meter Planning\") %}\r\n  {% set dp_fields = [] %}\r\n\r\n  {% if meta.has_field(\"monthly_target_meters\") %}{% set _ = dp_fields.append(\"monthly_target_meters\") %}{% endif %}\r\n  {% if meta.has_field(\"daily_target_meters\") %}{% set _ = dp_fields.append(\"daily_target_meters\") %}{% endif %}\r\n  {% if meta.has_field(\"current_daily_meters\") %}{% set _ = dp_fields.append(\"current_daily_meters\") %}{% endif %}\r\n  {% if meta.has_field(\"meters_per_drill\") %}{% set _ = dp_fields.append(\"meters_per_drill\") %}{% endif %}\r\n  {% if meta.has_field(\"required_hourly_rate\") %}{% set _ = dp_fields.append(\"required_hourly_rate\") %}{% endif %}\r\n  {% if meta.has_field(\"current_hourly_rate\") %}{% set _ = dp_fields.append(\"current_hourly_rate\") %}{% endif %}\r\n\r\n  {# fieldname variants seen in the wild #}\r\n  {% if meta.has_field(\"mtd_drills_meter\") %}{% set _ = dp_fields.append(\"mtd_drills_meter\") %}{% endif %}\r\n  {% if meta.has_field(\"mtd_drilled_meters\") %}{% set _ = dp_fields.append(\"mtd_drilled_meters\") %}{% endif %}\r\n\r\n  {% if meta.has_field(\"monthly_drilling_hours_completed\") %}{% set _ = dp_fields.append(\"monthly_drilling_hours_completed\") %}{% endif %}\r\n  {% if meta.has_field(\"remaining_meter\") %}{% set _ = dp_fields.append(\"remaining_meter\") %}{% endif %}\r\n  {% if meta.has_field(\"drilling_meters_forecast\") %}{% set _ = dp_fields.append(\"drilling_meters_forecast\") %}{% endif %}\r\n\r\n  {% if dp_fields and (dp_fields|length > 0) %}\r\n    {% set dp = frappe.db.get_value(\"Drilling Meter Planning\", doc.drilling_meter_planning, dp_fields, as_dict=1) %}\r\n  {% endif %}\r\n{% endif %}\r\n\r\n{# =========================================================\r\n   Render\r\n   ========================================================= #}\r\n\r\n<div class=\"title\">Hourly Drilling Report</div>\r\n\r\n<div class=\"meta\">\r\n  <b>Site:</b> {{ doc.site or \"-\" }}\r\n  &nbsp;|&nbsp;\r\n  <b>Shift:</b> <span class=\"pill\">{{ doc.shift or \"-\" }}</span>\r\n  &nbsp;|&nbsp;\r\n  <b>Date:</b> {{ doc.date or \"-\" }}\r\n  &nbsp;|&nbsp;\r\n  <b>Selected Hour:</b> {{ selected_hour.v or \"-\" }}\r\n  {% if hour_slots|length > 1 %}\r\n    &nbsp;<span class=\"muted\">(Doc contains {{ hour_slots|length }} hour slots; using last slot for production)</span>\r\n  {% endif %}\r\n</div>\r\n\r\n{% if not child_table %}\r\n  <div class=\"warn\">\r\n    Print warning: Could not resolve child table doctype for field <code>{{ table_fieldname }}</code>.\r\n    Confirm the fieldname is correct and that it\u2019s a Table field.\r\n  </div>\r\n{% endif %}\r\n\r\n<table class=\"layout\">\r\n<tr>\r\n\r\n  <td class=\"left\">\r\n\r\n    <div class=\"block\">\r\n      <div class=\"block-title\">Drill Production (Selected Hour)</div>\r\n      <table class=\"tbl\">\r\n        <thead>\r\n          <tr>\r\n            <th style=\"width: 90px;\">Drill</th>\r\n            <th>Drilling<br>Area</th>\r\n            <th>Material</th>\r\n            <th style=\"width: 70px;\">Meters</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n\r\n          {% if selected_hour.v == \"\" %}\r\n            <tr><td colspan=\"4\">No hourly_slot found on this document.</td></tr>\r\n          {% elif drill_rows and (drill_rows|length > 0) %}\r\n            {% for row in drill_rows %}\r\n              <tr>\r\n                <td>{{ row.drill }}</td>\r\n                <td>{{ row.area }}</td>\r\n                <td>{{ row.material }}</td>\r\n                <td class=\"right-align\">{{ fmt0(row.meters) }}</td>\r\n              </tr>\r\n            {% endfor %}\r\n          {% else %}\r\n            <tr><td colspan=\"4\">No drill rows found for hour {{ selected_hour.v }}.</td></tr>\r\n          {% endif %}\r\n\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div class=\"block\">\r\n      <div class=\"block-title\">Summary</div>\r\n      <table class=\"tbl\">\r\n        <tbody>\r\n          <tr>\r\n            <td class=\"stats-label\">Total Meters (Selected Hour)</td>\r\n            <td class=\"stats-value\">{{ fmt0(hour_total_m.v) }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"stats-label\">Total Hours (Selected Hour)</td>\r\n            <td class=\"stats-value\">{{ fmt0(hour_total_h.v) }}</td>\r\n          </tr>\r\n\r\n          <tr class=\"stats-spacer\"><td colspan=\"2\"></td></tr>\r\n\r\n          <tr>\r\n            <td class=\"stats-label\">Total Meters (This Document)</td>\r\n            <td class=\"stats-value\">{{ fmt0(doc_total_m.v) }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"stats-label\">Total Hours (This Document)</td>\r\n            <td class=\"stats-value\">{{ fmt0(doc_total_h.v) }}</td>\r\n          </tr>\r\n\r\n          <tr class=\"stats-spacer\"><td colspan=\"2\"></td></tr>\r\n\r\n          <tr>\r\n            <td class=\"stats-label\">Shift Accumulated Meters (All Reports)</td>\r\n            <td class=\"stats-value\">{{ fmt0(shift_accum_m.v) }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"stats-label\">Shift Accumulated Hours (All Reports)</td>\r\n            <td class=\"stats-value\">{{ fmt0(shift_accum_h.v) }}</td>\r\n          </tr>\r\n\r\n          <tr class=\"stats-spacer\"><td colspan=\"2\"></td></tr>\r\n\r\n          <tr>\r\n            <td class=\"stats-label\">Diesel Used</td>\r\n            <td class=\"stats-value\">{{ fmt0(doc.diesel_used) }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"stats-label\">Water Used</td>\r\n            <td class=\"stats-value\">{{ fmt0(doc.water_used) }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n  </td>\r\n\r\n  <td class=\"right\">\r\n    <div class=\"block\">\r\n      <div class=\"block-title\">Monthly Statistics (From Drilling Meter Planning)</div>\r\n      <table class=\"tbl\">\r\n        <tbody>\r\n          <tr>\r\n            <td class=\"stats-label\">Monthly Target Meters</td>\r\n            <td class=\"stats-value\">{{ fmt0(dp.get(\"monthly_target_meters\")) if dp else \"-\" }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"stats-label\">Daily Target Meters</td>\r\n            <td class=\"stats-value\">{{ fmt0(dp.get(\"daily_target_meters\")) if dp else \"-\" }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"stats-label\">Current Daily Meters</td>\r\n            <td class=\"stats-value\">{{ fmt0(dp.get(\"current_daily_meters\")) if dp else \"-\" }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"stats-label\">Meters Per Drill</td>\r\n            <td class=\"stats-value\">{{ fmt0(dp.get(\"meters_per_drill\")) if dp else \"-\" }}</td>\r\n          </tr>\r\n\r\n          <tr><td class=\"stats-section\" colspan=\"2\">Penetration Hourly Rate</td></tr>\r\n\r\n          <tr>\r\n            <td class=\"stats-label\">Required Hourly Rate</td>\r\n            <td class=\"stats-value\">{{ fmt0(dp.get(\"required_hourly_rate\")) if dp else \"-\" }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"stats-label\">Current Hourly Rate</td>\r\n            <td class=\"stats-value\">{{ fmt0(dp.get(\"current_hourly_rate\")) if dp else \"-\" }}</td>\r\n          </tr>\r\n\r\n          <tr class=\"stats-spacer\"><td colspan=\"2\"></td></tr>\r\n\r\n          <tr>\r\n            <td class=\"stats-label\">MTD Drilled Meters</td>\r\n            <td class=\"stats-value\">\r\n              {% if dp %}\r\n                {% if dp.get(\"mtd_drills_meter\") is not none %}\r\n                  {{ fmt0(dp.get(\"mtd_drills_meter\")) }}\r\n                {% else %}\r\n                  {{ fmt0(dp.get(\"mtd_drilled_meters\")) }}\r\n                {% endif %}\r\n              {% else %}\r\n                -\r\n              {% endif %}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr>\r\n            <td class=\"stats-label\">Monthly Hours Completed</td>\r\n            <td class=\"stats-value\">{{ fmt0(dp.get(\"monthly_drilling_hours_completed\")) if dp else \"-\" }}</td>\r\n          </tr>\r\n\r\n          <tr>\r\n            <td class=\"stats-label\">Remaining Meters</td>\r\n            <td class=\"stats-value\">{{ fmt0(dp.get(\"remaining_meter\")) if dp else \"-\" }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"stats-label\">Drilling Meters Forecast</td>\r\n            <td class=\"stats-value\">{{ fmt0(dp.get(\"drilling_meters_forecast\")) if dp else \"-\" }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </td>\r\n\r\n</tr>\r\n</table>\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-02-02 18:57:49.568138",
 "modified_by": "Administrator",
 "module": "Production",
 "name": "Hourly Drilling Report",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}
